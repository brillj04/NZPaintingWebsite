<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>NZ Painting - Home</title>
<link rel="stylesheet" href="MainCSS.css">
<script src="MainJS.js"></script>
 <script src="jquery-3.2.1.min.js"></script>   
<link href="https://fonts.googleapis.com/css?family=Alegreya" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Philosopher" rel="stylesheet">
 
</head>

<body>
<div id="container">

<header>
 <h1>New Zealand Painting</h1> 
</header>

<nav>
<ul>
  <li><a href="About.html">About Us</a></li>
  <li><a href="Membership.html">Membership Sign up</a></li>
  <li><a href="Product.html">Our Products</a></li>
  <li><a href="index.html">Home</a></li>
</ul>
</nav>

<section id="homeDisplay">
   <h3> Introduction </h3>
 
 
    
 </section>
    
    

 <section id="popularProducts">
     <div id="img-container">
    </div>
<h1 id="title">19. Using jQuery to retrieve JSON via AJAX</h1>

  <a href="#" id="clickme">Get JSON Data</a>
     
 <script>
var data = {
 "products":[{"ID":"1",
"Title":"Blue Fireworks",
"Category":"Abstract",
"Description":"Abstract painting of fireworks",
"Popularity":"High",
"Onsale":"No" ,
 "imagePath":"Images/Products/Product1.jpg"},
{"ID":"1",
"Title":"Blue Fireworks",
"Category":"Abstract",
"Description":"Abstract painting of fireworks",
"Popularity":"High",
"Onsale":"No" ,
"imagePath":"Images/Products/Product2.jpg"}
]};
data.products.forEach( function(obj) {
  var img = new Image();
  img.src = obj.imagePath;
  img.setAttribute("class", "banner-img");
  img.setAttribute("alt", "painting_product");
  img.setAttribute("style", "width:100px;heigth:100px;")
  document.getElementById("img-container").appendChild(img);
});
     
     
$(function() {  
  $('#clickme').click(function() {
       $.ajax({
       url: 'ProductsPaintings.json',
       dataType: 'json',
       success: function(data) {
          var items = [];

          $.each(data, function(key, val) {

            items.push('<li id="' + key + '">' + val + '</li>');    

          });

          $('<ul/>', {
             'class': 'interest-list',
             html: items.join('')
          }).appendTo('body');

       },
      statusCode: {
         404: function() {
           alert('There was a problem with the server.  Try again soon!');
         }
       }
    });
  });
});
   </script>
</section>


<section id="dealsOftheDay">
</section>

     <footer>
<hr>
&copy Bekfasts 2017
</footer>
</div>

</body>

</html>
